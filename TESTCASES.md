# TESTCASES — Mini Kanban Backend

Документ описывает тестовые сценарии для API Mini Kanban Backend.  
Все тесты покрывают позитивные и негативные случаи работы CRUD‑операций.

---

## Общая информация

**Базовый URL:**

```
http://localhost:3002
```

**Формат задачи:**

```json
{
  "id": 1734060000000,
  "title": "Название задачи",
  "status": "todo"
}
```

**Допустимые статусы:**

- `todo`
- `in-progress`
- `done`

---

# 1. GET /tasks

## TC‑1: Успешное получение списка задач

| Поле | Значение |
|------|----------|
| Метод | GET |
| URL | /tasks |
| Описание | Получение списка задач |
| Ожидаемый статус | 200 |
| Ожидаемый ответ | `[]` при пустом списке |

---

# 2. POST /tasks

## TC‑2: Успешное создание задачи

| Поле | Значение |
|------|----------|
| Метод | POST |
| URL | /tasks |
| Тело | `{ "title": "Test task" }` |
| Ожидаемый статус | 201 |
| Ожидаемый ответ | Объект задачи с `status: "todo"` |

---

## TC‑3: Ошибка — title отсутствует

| Поле | Значение |
|------|----------|
| Метод | POST |
| URL | /tasks |
| Тело | `{}` |
| Ожидаемый статус | 400 |
| Ожидаемый ответ | `{ "error": "Title is required" }` |

---

## TC‑4: Ошибка — title не строка

| Поле | Значение |
|------|----------|
| Метод | POST |
| URL | /tasks |
| Тело | `{ "title": 123 }` |
| Ожидаемый статус | 400 |
| Ожидаемый ответ | `{ "error": "Title must be a string" }` |

---

## TC‑5: Ошибка — title пустой

| Поле | Значение |
|------|----------|
| Метод | POST |
| URL | /tasks |
| Тело | `{ "title": "" }` |
| Ожидаемый статус | 400 |
| Ожидаемый ответ | `{ "error": "Title is required" }` |

---

## TC‑6: Ошибка — title слишком длинный

| Поле | Значение |
|------|----------|
| Метод | POST |
| URL | /tasks |
| Тело | `{ "title": "A".repeat(101) }` |
| Ожидаемый статус | 400 |
| Ожидаемый ответ | `{ "error": "Title is too long" }` |

---

# 3. PUT /tasks/:id

## TC‑7: Успешное обновление задачи

| Поле | Значение |
|------|----------|
| Метод | PUT |
| URL | /tasks/:id |
| Тело | `{ "title": "Updated", "status": "done" }` |
| Ожидаемый статус | 200 |
| Ожидаемый ответ | Обновлённая задача |

---

## TC‑8: Ошибка — задача не найдена

| Поле | Значение |
|------|----------|
| Метод | PUT |
| URL | /tasks/999999 |
| Тело | `{ "title": "X" }` |
| Ожидаемый статус | 404 |
| Ожидаемый ответ | `{ "error": "Task not found" }` |

---

## TC‑9: Ошибка — неверный статус

| Поле | Значение |
|------|----------|
| Метод | PUT |
| URL | /tasks/:id |
| Тело | `{ "status": "wrong" }` |
| Ожидаемый статус | 400 |
| Ожидаемый ответ | `{ "error": "Invalid status" }` |

---

## TC‑10: Ошибка — пустой title

| Поле | Значение |
|------|----------|
| Метод | PUT |
| URL | /tasks/:id |
| Тело | `{ "title": "" }` |
| Ожидаемый статус | 400 |
| Ожидаемый ответ | `{ "error": "Title is required" }` |

---

# 4. DELETE /tasks/:id

## TC‑11: Успешное удаление задачи

| Поле | Значение |
|------|----------|
| Метод | DELETE |
| URL | /tasks/:id |
| Ожидаемый статус | 200 |
| Ожидаемый ответ | `{ "message": "Task deleted" }` |

---

## TC‑12: Удаление несуществующей задачи

| Поле | Значение |
|------|----------|
| Метод | DELETE |
| URL | /tasks/12345 |
| Ожидаемый статус | 200 |
| Ожидаемый ответ | `{ "message": "Task deleted" }` |

---

# Покрытие

Документ покрывает:

- позитивные сценарии  
- негативные сценарии  
- ошибки валидации  
- ошибки поиска  
- ошибки типов данных  
